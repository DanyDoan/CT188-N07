<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/bootstrap.css">
    <link rel="stylesheet" href="../css/headerFooter.css">
    <link rel="stylesheet" href="../css/chitiet.css">
    <link rel="stylesheet" href="../css/dislayLogin.css">
    <script src="../javascript/displauLogin.js"></script>
    <title>Trang chi tiết</title>

</head>

<body>
    <!-- Header -->
    <header>
        <h1>Nhà Trọ Giá Rẻ<div class="logo"></div>
        </h1>
        <!-- Nút đăng nhập -->
        <div>
            <a href="login.html" id="dangNhap">Đăng Nhập</a>
        </div>
        <!-- Nếu đã đăng nhập -->
        <!-- <a href="/html/customer.html">
            <div id="userAvatar"></div>
        </a> -->
        <div class="auth-cuong">
            <div class="user-section">
                <img src="../image/avata-user.png" alt="Avatar" class="avatar-cuong">
                <button id="loginBtn" class="button-cuong" onclick="login()">Đăng nhập</button>
                <button id="logoutBtn" class="button-cuong" onclick="logout()" style="display: none;">Đăng xuất</button>
                <button id="DangTin" class="button-cuong" onclick="Dangtin()">Đăng tin</button>
            </div>
        </div>
        



    </header>

    <!-- Thanh Điều Hướng -->
    <nav class="navbar navbar-expand-lg navbar-light bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand nav-a" href="#">Nhà Trọ Giá Rẻ</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active nav-a" aria-current="page" href="main.html?#">Trang Chủ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-a" href="news.html">Tin Tức</a>
                    </li>
                    <!-- <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Dropdown
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#">Action</a></li>
                            <li><a class="dropdown-item" href="#">Another action</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="#">Something else here</a></li>
                        </ul>
                    </li> -->
                    <li class="nav-item">
                        <a class="nav-link nav-a" href="discount.html" tabindex="-1" aria-disabled="true">Ưu Đãi</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <main>
        <div class="leftSide">
            <div class="container" id="img-detail">
            </div>
            <div class="container" id="detailed-description">
                <h2>Mô tả chi tiết</h2>
            </div> 
        </div>
        <div class="rightSide">
            <div class="container" id="basic-information-detail">
                <h2>Thông tin cơ bản</h2>
            </div>
            <div class="container" id="real-estate-information-detail">
                <h2>Đặc điểm phòng</h2>
            </div> 
            <div class="container" id="rent">
                <button>Liên Hệ Ngay</button>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer>
        <div class="footerBox">
            <h3>Liên Kết</h3>
            <a href="#"><img src="../image/facebook.png">Facebook</a>
            <a href="#"><img src="../image/zalo.png">Zalo</a>
        </div>
        <div class="footerBox">
            <h3>Chính Sách</h3>
            <a href="#">Chính Sách Thanh Toán</a>
            <a href="#">Quyền Riêng Tư</a>
            <a href="#">Thuế</a>
        </div>
        <div class="footerBox">
            <h3>Địa Chỉ</h3>
            <span>19/20 Đống Đa, Hà Nội</span>
            <span>107C1 Quận 1, TPHCM</span>
        </div>
    </footer>

    <!-- Cơ sở dữ liệu quan trọng -->
    <script>
    let data = JSON.parse(localStorage.getItem("ChiTietPhongTro"));
    


    
    function createDetail(hinhAnh, tieuDe, gia, viTri, trangThai, tienCoc, dienTich, coGac, moTa, cachTrungTam, giaDien, giaNuoc,chuTro, lienHe){
        var img = document.getElementById("img-detail");
        var basic = document.getElementById("basic-information-detail");
        var realEstate = document.getElementById("real-estate-information-detail");
        var detail = document.getElementById("detailed-description");
        var fragment = document.createDocumentFragment();

        const createImg = document.createElement("img");
        createImg.src = hinhAnh;
        createImg.alt = 'Hình phòng trọ';
        createImg.id = 'image-id';
        img.appendChild(createImg);

        const createTieuDe = document.createElement('h4');
        createTieuDe.id = 'tieuDe';
        createTieuDe.textContent = tieuDe;
        fragment.appendChild(createTieuDe);

        const createGia = document.createElement("div");
        createGia.id = 'gia';
        createGia.textContent = gia;
        fragment.appendChild(createGia);

        const createdienTich = document.createElement("p");
        createdienTich.id="dienTich";
        createdienTich.textContent = dienTich;
        fragment.appendChild(createdienTich);

        const createViTri = document.createElement("p");
        createViTri.id = 'viTri';
        createViTri.textContent = viTri;
        fragment.appendChild(createViTri);

        basic.appendChild(fragment);
        var fragment = document.createDocumentFragment();

        const createTrangThai = document.createElement("p");
        createTrangThai.id = 'trangThai';
        createTrangThai.textContent = "Trạng thái:" + trangThai;
        fragment.appendChild(createTrangThai);

        const createTienCoc = document.createElement("p");
        createTienCoc.id = 'tienCoc';
        createTienCoc.textContent = "Đặt cọc: " + tienCoc;
        fragment.appendChild(createTienCoc);

        const createDienTich = document.createElement("p");
        createDienTich.id = 'dienTich';
        createDienTich.textContent = dienTich;
        fragment.appendChild(createDienTich);

        const createCoGac = document.createElement("p");
        createCoGac.id = 'coGac';
        createCoGac.textContent = "Gác: " +coGac;
        fragment.appendChild(createCoGac);

        realEstate.appendChild(fragment);
        detail.innerHTML += moTa;
        detail.innerHTML += `<p>Cách trung tâm thành phố Cần Thơ: ${cachTrungTam}</p>`;
        detail.innerHTML += `<p>Giá điện: ${giaDien}</p>`;
        detail.innerHTML += `<p>Giá nước: ${giaNuoc}</p>`;
        detail.innerHTML += `<p>Chủ trọ: ${chuTro}</p>`;
        detail.innerHTML += `<p>Liên hệ: ${lienHe}</p>`;        
    }
        for (let i = 0; i < data.length; i++) {
            if (data[i].id===localStorage.getItem('chi-tiet')) createDetail(data[i].hinhAnh, data[i].tieuDe,
                data[i].gia, data[i].vitri,
                data[i].trangThai, data[i].giaDacCoc,
                data[i].dienTich, data[i].coGac,
                data[i].moTa, data[i].cachTrungTam,
                data[i].giaDien, data[i].giaNuoc,
                data[i].chuTro, data[i].lienHe);
        }
        localStorage.removeItem('chi-tiet');
    </script>

    <!-- Trạng thái đăng nhập -->
    <script>
        const login = localStorage.getItem("is-login");
        if (login === "true") {
            const dangNhap = document.querySelector("#dangNhap");
            const showUser = document.querySelector("#userAvatar");
            dangNhap.style.display = "none";
            showUser.style.display = "block";
        }
    </script>
</body>

</html>